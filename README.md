gff toolbox
=============

This tool has been developed to modify, transform or extract information from genome annotation files (gff) without coding skills. 
Gff toolbox is a simple bash script that you can use on linux or macOS environments. 
The usage of the script is quite easy, you only need to call the script and add the gff file as an argument. (ex: bash gff_toolbox.sh my_gff_file.gff).

Before starting, the script controls the quality and the structure of your file. 
All the new files generated by this script are created in your current working directory. 

Then, after a quick reminder of the classical structure of a gff file, you can choose among the following tools to use:


TOOL 1: Classical Human Chromosomes filter (Specific to human genomes)
---------------------------------------------------------------------
In this tool, classical human chromosome names (NC_XXXXXX.X or chrX) are accepted in the SeqIDs column. You will have the choice between extracting sequences with or without those names. If the file presents both nomenclatures, you can choose to homogenize chromosome names using either 'NC' or 'chr'.


TOOL 2: Promoter region extractor (Specific to gene regions)
------------------------------------------------------------
This tool is used to extract promoter regions in 3 steps:
- First: the script checks if all the regions in question are annotated as 'genes'. 
	If yes, you can also filter by gene-subtype (ex: coding_protein, pseudogene, tRNA, lncRNA, etc...)
	If not, please, make sure that the gff corresponds to a gene annotation file.
- Second: The Transcription Start Site (TSS) is defined depending on the gene strand. 
	For the (+) strand, the TSS is defined as the first base of the corresponding gene region (the start), while for the (-) strand, the TSS is defined as the last base of the corresponding gene region (the end). 
	If the strand is not specified, the TSS will be the start of the gene region.
- Third: Extention of the promoter regions upstream and downstream of the defined TSS based on the interval specified by the user. (ex: -2000bp to 2000bp)


TOOL 3: Extract lines with specific sources (column 2)
------------------------------------------------------
If the file contains different sources (ex: RefSeq, BestRefSeq, Curated genomic, etc...), you can choose to extract one of them.


TOOL 4: Extract lines with specific region types (column 3)
-------------------------------------------------------------
If the file contains different types of regions (ex: gene, exon, tRNA, CDS, etc...), you can choose to extract one of them.


TOOL 5: Attributes explorer (column 9) (specific to gff3 structure)
-------------------------------------------------------------------
This tool is able to list all different kinds of attributes in your file. You can choose to extract the list of contents of this attribute or extract all lines presenting this attribute. (attribute examples: ID=; gbkey=; name=; gene=; gene_biotype=; parental=; etc...)

- List extraction:
First, the tool will create a text file with one content of a specific attribute per line.
example: gene_biotype=coding_protein; gene_biotype=tRNA; gene_biotype=coding_protein -> will give:
	
```shell
coding_protein
tRNA
coding_protein
```

In a second part, you can choose to create a second list with each unique sub-attribute. 
example: gene_biotype=coding_protein; gene_biotype=tRNA; gene_biotype=coding_protein -> will give:
	
```shell
coding_protein
tRNA
```

- Extraction of attributes:
If the attribute is not in all lines of the file, extraction of all lines which present this attribute. 
If all lines present this attribute (ex: ID, gbkey, etc...), possibility to explore the sub-attribute. (gene_biotype=lncRNA) 
If the sub-attribute is not unique to each line, this tool can list it and you can choose to extract one of them.


TOOL 6: Sequence extender
-------------------------
This tool is able to extend all sequences in the file depending on the user interval. You have the possibility to choose if it is strand-specific or not.


TOOL 7: Duplicate explorer
-----------------------
This tool is able to detect duplicates. 
You have the possibility to choose whether 2 regions with the same start and end but not the same strand should be considered as duplicates or not. 
Then, you can choose to leave one occurrence of duplicate lines automatically (leave the first occurrence) or manually (choose one by one which occurrence to leave).


TOOL 8: GFF to BED file
-----------------------
This tool is able to transform the gff file in bed3 and/or bed6 file. If human chromosomes are named with 'NC_XXXXXX.X', it will be changed to 'chrX'.


Thank you for using GFF toolbox!

If you got any problems when using this script or if you have any comments, please feel free to contact mathias.boulanger.17@hotmail.com

